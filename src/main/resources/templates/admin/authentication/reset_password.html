<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title data-th-text="#{auth.login.title} + ' - ' + #{system.name}">User</title>

    <link th:href="@{/webjars/bootstrap/3.4.1/css/bootstrap.min.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets/css/core.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets/css/components.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets/css/icons.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets/css/pages.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets/css/menu.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets/css/responsive.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/assets/css/style.css}" rel="stylesheet" type="text/css"/>
    <script th:src="@{/assets/js/modernizr.min.js}"></script>
</head>
<body class="bg-transparent">
<!-- HOME -->
<section>
    <div class="container-alt">
        <div class="row">
            <div class="col-sm-12">
                <div class="wrapper-page">
                    <div class="m-t-50 center-block">
                        <a href="javascript:void(0)" class="text-success center-block" style="text-align: center; margin-top: 40px;">
                            <span><img src="/assets/images/logo.png" alt="" height="70"></span>
                        </a>
                    </div>
                    <div class="m-t-40 account-pages">
                        <div class="text-center account-logo-box">
                            <h2 class="text-uppercase" style="color:white" th:text="#{auth.reset.password.header}"></h2>
                        </div>
                        <div class="account-content">
                            <div th:remove="tag" th:if="${reset == null}">
                                <div class="text-center m-b-20">
                                    <h4 th:text="#{auth.forgot.password.expired}"></h4>
                                    <p class="text-muted m-b-0 font-13" th:utext="#{auth.forgot.password.expired.content}"></p>
                                </div>
                                <div class="form-group account-btn text-center m-t-10">
                                    <div class="col-xs-12">
                                        <a class="btn w-md btn-bordered btn-danger waves-effect waves-light"
                                           th:href="@{/web/admin/authentication/forgot-password}"
                                           th:text="#{button.forgot.password}">Forgot Password
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div th:remove="tag" th:if="${reset != null and reset.status.ordinal() == 1}">
                                <div class="text-center m-b-20">
                                    <div class="m-b-20">
                                        <div class="checkmark">
                                            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                 viewBox="0 0 161.2 161.2" enable-background="new 0 0 161.2 161.2" xml:space="preserve">
                                                    <path class="path" fill="none" stroke="#4bd396" stroke-miterlimit="10" d="M425.9,52.1L425.9,52.1c-2.2-2.6-6-2.6-8.3-0.1l-42.7,46.2l-14.3-16.4
                                                        c-2.3-2.7-6.2-2.7-8.6-0.1c-1.9,2.1-2,5.6-0.1,7.7l17.6,20.3c0.2,0.3,0.4,0.6,0.6,0.9c1.8,2,4.4,2.5,6.6,1.4c0.7-0.3,1.4-0.8,2-1.5
                                                        c0.3-0.3,0.5-0.6,0.7-0.9l46.3-50.1C427.7,57.5,427.7,54.2,425.9,52.1z"/>
                                                <circle class="path" fill="none" stroke="#4bd396" stroke-width="4" stroke-miterlimit="10" cx="80.6" cy="80.6" r="62.1"/>
                                                <polyline class="path" fill="none" stroke="#4bd396" stroke-width="6" stroke-linecap="round" stroke-miterlimit="10" points="113,52.8
                                                        74.1,108.4 48.2,86.4 "/>
                                                <circle class="spin" fill="none" stroke="#4bd396" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="12.2175,12.2175" cx="80.6" cy="80.6" r="73.9"/>
                                                </svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-center m-b-20">
                                    <h4 th:text="#{auth.forgot.password.changed}"></h4>
                                    <p class="text-muted m-b-0 font-13" th:utext="#{auth.forgot.password.changed.content}"></p>
                                </div>
                                <div class="form-group account-btn text-center m-t-10">
                                    <div class="col-xs-12">
                                        <a class="btn w-md btn-bordered btn-danger waves-effect waves-light"
                                           th:href="@{/web/admin/authentication/login}"
                                           th:text="#{button.login}">Login
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div th:remove="tag" th:if="${reset != null and reset.status.ordinal() == 2}">
                                <div class="alert alert-danger alert-dismissible fade in" role="alert" th:if="${msgError != null}">
                                    <button type="button" class="close" data-dismiss="alert"
                                            aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                    <span th:text="${msgError}"></span>
                                </div>

                                <form class="form-horizontal" th:action="${'/web/admin/authentication/forgot-password/reset?key='+param.key}" method="post">
                                    <div class="form-group">
                                        <div class="col-xs-12">
                                            <input class="form-control inputPwd" type="password" name="newPwd" th:placeholder="#{new.password}" required="" th:hidden="false">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-xs-12">
                                            <input class="form-control inputPwd" type="password" name="confirmPwd" th:placeholder="#{confirm.password}" required="" th:hidden="false">
                                        </div>
                                    </div>
                                    <div class="form-group ">
                                        <div class="col-xs-12">
                                            <div class="checkbox checkbox-success">
                                                <input id="checkbox-signup" type="checkbox" onclick="showPwd()">
                                                <label for="checkbox-signup" th:text="#{label.show.password}">
                                                    Show Password
                                                </label>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-group account-btn text-center m-t-10">
                                        <div class="col-xs-12">
                                            <button class="btn w-md btn-bordered btn-danger waves-effect waves-light"
                                                    type="submit" th:text="#{button.reset.password}">Submit
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                    <!-- end card-box-->

                    <div class="row m-t-50">
                        <div class="col-sm-12 text-center">
                            <p class="text-muted">
                                <a th:href="@{/web/admin/authentication/login}" class="text-primary m-l-5">
                                    <b th:text="#{label.back.to.login}">Back to Log in</b></a>
                            </p>
                        </div>
                    </div>

                    <div class="row m-t-10">
                        <div class="col-sm-12 text-center">
                            <p class="text-muted" data-th-text="#{footer.text.1}"></p>
                            <p class="text-muted small" data-th-text="#{footer.text.2} + '. ' + ${version}"></p>
                        </div>
                    </div>
                </div>
                <!-- end wrapper -->
            </div>
        </div>
    </div>
</section>
<!-- END HOME -->

<!-- jQuery  -->
<script th:src="@{/assets/js/jquery-3.6.0.min.js}"></script>
<script th:src="@{/webjars/bootstrap/3.4.1/js/bootstrap.min.js}"></script>

<script>
    function showPwd() {
        var x = $('.inputPwd');
        if(x.attr("type") === "text"){
            x.attr('type', 'password');
        } else if(x.attr("type") === "password"){
            x.attr('type', 'text');
        }
    }
</script>
</body>
</html>