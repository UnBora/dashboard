<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body th:fragment="finput">
<style>
    /* Bootstrap 5 compatible styles can be added here */
</style>
<section th:remove="tag">
    <label th:if="${finputType} != 'hidden'"
           th:for="${finputName}"
           class="form-label"
           th:utext="${finputText + (finputRequired==true ? '<span class=text-danger>*</span>':'')}">Label Name
        <span class="text-danger">*</span>
    </label>
    <div class="input-group" th:if="${finputIcon != null}">
        <span class="input-group-text"><i th:class="${finputIcon}"></i></span>
        <input
                th:name="${finputName}"
                th:id="${finputId != null ? finputId : finputName}"
                th:placeholder="'Enter ' + ${finputText}"
                th:required="${finputRequired==true}"
                th:class="'form-control'+${(finputClass==null?'':' '+ finputClass)}"
                th:type="${finputType}"
                th:field="*{__${finputName}__}"
                th:readonly="${finputReadOnly==true}"
                th:maxlength="${maxLength == null ? '255' : maxLength}"
                autocomplete="off"
        />
    </div>
    <input th:if="${finputIcon == null}"
           th:name="${finputName}"
           th:id="${finputId != null ? finputId : finputName}"
           th:placeholder="'Enter ' + ${finputText}"
           th:required="${finputRequired==true}"
           th:class="'form-control'+${(finputClass==null?'':' '+finputClass)}"
           th:type="${finputType}"
           th:field="*{__${finputName}__}"
           th:readonly="${finputReadOnly==true}"
           th:maxlength="${maxLength == null ? '255' : maxLength}"
           autocomplete="off"
    />
    <div th:if="${#fields.hasErrors(finputName)}" class="invalid-feedback d-block">
        <p th:errors="*{__${finputName}__}"></p>
    </div>
    <script th:inline="javascript" th:if="${finputReadOnly==false}">
        $(document).ready(function () {
            let inputId = [[${finputName}]];
            $('input#' + inputId).maxlength();
        });
    </script>
</section>
</body>
</html>