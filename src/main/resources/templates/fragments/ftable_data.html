<body xmlns:th="http://www.thymeleaf.org">

<!-- Status Badge Fragment -->
<th:block th:fragment="status(d)">
  <td>
      <span th:switch="${d.status.name()}">
        <span th:case="'Disabled'" class="badge badge-warning" th:text="${d.status}"></span>
        <span th:case="'Enabled'" class="badge badge-primary" th:text="${d.status}"></span>
        <span th:case="'Pending'" class="badge badge-orange" th:text="${d.status}"></span>
        <span th:case="'Deleted'" class="badge badge-danger" th:text="${d.status}"></span>
        <span th:case="*"
              class="badge badge-secondary"
              th:text="${d.status}"></span>
      </span>
  </td>
</th:block>

<!-- Action Dropdown Fragment with Extra Buttons -->
<th:block th:fragment="action_extra(d, id, size, extraButtons, index, isHideUpdate)">
  <td style="width: 10px;">
    <div class="text-center">
      <div class="btn-group text-left">
        <button type="button" class="btn btn-default btn-xs dropdown-toggle tip" data-toggle="dropdown">
          <i class="fa fa-list-dots"></i>
        </button>
        <ul class="dropdown-menu pull-right" role="menu" th:id="${'context-menu-' + index}">
          <!-- View -->
          <li>
            <a href="javascript:void(0);"
               th:title="#{label.view}"
               th:data-title="#{label.view}"
               th:data-url="${selectedAdminAuthorityEntity.endPointUrl + '/../view/' + id}"
               th:data-size="${size}"
               onclick="openDialog(this)">
              <i class="fa fa-eye m-r-5"></i><span th:text="#{label.view}"></span>
            </a>
          </li>

          <!-- Update -->
          <li th:if="${d.canUpdate} and ${isHideUpdate == null}">
            <a href="javascript:void(0);"
               th:title="#{label.update}"
               th:data-title="#{label.update}"
               th:data-url="${selectedAdminAuthorityEntity.endPointUrl + '/../update/' + id}"
               th:data-size="${size}"
               onclick="openDialog(this)">
              <i class="fa fa-pencil m-r-5"></i><span th:text="#{label.update}"></span>
            </a>
          </li>

          <!-- Change Status -->
          <li th:if="${d.canUpdate}">
            <a href="javascript:void(0);"
               th:title="#{label.change.status}"
               th:data-title="#{label.change.status}"
               th:data-url="${selectedAdminAuthorityEntity.endPointUrl + '/../status/' + id}"
               onclick="confirmDialog(this)">
              <div th:if="${d.status.name() == 'Disabled'}">
                <i class="fa fa-unlock m-r-5"></i><span th:text="#{label.change.status}"></span>
              </div>
              <div th:if="${d.status.name() == 'Enabled'}">
                <i class="fa fa-lock m-r-5"></i><span th:text="#{label.change.status}"></span>
              </div>
            </a>
          </li>

          <!-- Extra Buttons -->
          <th:block th:if="${extraButtons != null}" th:each="button : ${#strings.arraySplit(extraButtons, ',')}">
            <li th:if="${d.canUpdate} and ${#strings.toUpperCase(button)} == 'RESET'">
              <a href="javascript:void(0);"
                 th:title="#{label.reset.password}"
                 th:data-title="#{label.reset.password}"
                 th:data-url="${selectedAdminAuthorityEntity.endPointUrl + '/../reset/' + id}"
                 onclick="confirmDialog(this)">
                <i class="fa fa-key m-r-5"></i><span th:text="#{label.reset.password}"></span>
              </a>
            </li>
            <li th:if="${d.canUpdate} and ${#strings.toUpperCase(button)} == 'DUPLICATE'">
              <a href="javascript:void(0);"
                 th:title="#{label.duplicate}"
                 th:data-title="#{label.duplicate}"
                 th:data-url="${selectedAdminAuthorityEntity.endPointUrl + '/../duplicate/' + id}"
                 onclick="confirmDialog(this)">
                <i class="fa fa-clone m-r-5"></i><span th:text="#{label.duplicate}"></span>
              </a>
            </li>
            <li th:if="${d.canUpdate} and ${#strings.toUpperCase(button)} == 'PROPERTY'">
              <a href="javascript:void(0);"
                 th:title="#{label.property.details}"
                 th:data-title="#{label.property.details}"
                 th:data-url="${selectedAdminAuthorityEntity.endPointUrl + '/../property-details/' + id}"
                 th:data-size="${size}"
                 onclick="openDialog(this)">
                <i class="fa fa-tasks m-r-5"></i><span th:text="#{label.property.details}"></span>
              </a>
            </li>
            <li th:if="${d.canUpdate} and ${#strings.toUpperCase(button)} == 'FORCE_LOGOUT'">
              <a href="javascript:void(0);"
                 th:title="#{label.force.logout}"
                 th:data-title="#{label.force.logout}"
                 th:data-url="${selectedAdminAuthorityEntity.endPointUrl + '/../force-logout/' + id}"
                 th:data-size="W"
                 onclick="openDialog(this)">
                <i class="fa-solid fa-right-from-bracket m-r-5"></i><span th:text="#{label.force.logout}"></span>
              </a>
            </li>
          </th:block>

          <li class="divider" th:if="${d.canUpdate}"></li>

          <!-- Delete -->
          <li th:if="${d.canUpdate}">
            <a href="javascript:void(0);"
               th:title="#{label.delete}"
               th:data-title="#{label.delete}"
               th:data-url="${selectedAdminAuthorityEntity.endPointUrl + '/../delete/' + id}"
               onclick="confirmDialog(this)">
              <i class="fa fa-trash m-r-5" th:if="${d.status.name() != 'Pending'}"></i><span th:text="#{label.delete}"></span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </td>
</th:block>

</body>
